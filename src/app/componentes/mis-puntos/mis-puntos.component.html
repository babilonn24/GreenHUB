<div class="container mt-5">
    <div class="card">
        <div class="row no-gutters">
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card-body">
                    <div class="row">
                        <h1 class="modal-title" id="fullDescriptionLabel">Estado de Puntos</h1>
                    </div>

                    <div class="row">
                        <div class="row mt-2">
                            <div class="card bg-light profile-container">
                                <figure>
                                    <blockquote class="blockquote">
                                      <p>{{misPuntos?.green_points || 0}} Green Points</p>
                                      <p>{{misPuntos?.eco_points || 0}} ECO</p>
                                    </blockquote>                            
                                </figure>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-4 col-lg-6">
                <div class="card-body">
                    <div class="row">
                        <h1 class="modal-title" id="fullDescriptionLabel">Frase del DÃ­a</h1>
                    </div>
                    <div class="row">
                        <div class="row mt-2">
                            <div class="card bg-light profile-container">                                                              
                                <div *ngIf="!fraseDia; else fraseTemplate">
                                    <div class="spinner-border" role="status">
                                        <span class="visually-hidden">Cargando...</span>
                                    </div>
                                </div>
                                  
                                <ng-template #fraseTemplate>
                                    <figure>
                                        <blockquote class="blockquote text-center">
                                          <p>{{fraseDia?.dato}}</p>
                                        </blockquote>

                                        <figcaption class="blockquote-footer" *ngFor="let palabra of fraseDia?.palabras; let i = index">   
                                            <a (click)="cargarPagina(fraseDia.wiki[i])">{{palabra}}</a>                                          
                                        </figcaption>
                                    </figure>                                  
                                </ng-template>
                            </div>
                        </div>      
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row p-3" *ngIf="iframeSrc">
        <div class="card p-2 bg-light shadow border-0">
            <div class="card-body">
                <div class="s-grid d-flex justify-content-end">
                    <button type="button" class="btn-close" aria-label="Close" (click)="cerrarPagina()"></button>
                </div>

                <figure>
                    <blockquote class="blockquote">
                        <div>
                            <iframe [src]="iframeSrc" width="100%" height="400" frameborder="0"></iframe>
                        </div>
                    </blockquote>                            
                </figure>
            </div>   
        </div>
    </div>

    <div class="row">
        <div class="col-3">
            <div class="card mt-5">
                <img src="https://watchandlearn.scholastic.com/content/dam/classroom-magazines/watchandlearn/videos/animals-and-plants/plants/what-are-plants-/What-Are-Plants.jpg" class="card-img-top">
                
                <div class="card-body">
                    <h5 class="card-title">Multiplicador EXP: x{{misPuntos?.multiplicador || 1}}</h5>
                    <p class="card-text">
                        <img src="https://cdn-icons-png.flaticon.com/512/5980/5980521.png" class="img-fluid" alt="arbol_icon" style="width: 50px; height: auto; margin-left: 10px;">
                        {{misPuntos?.arboles_plantados || 0}} Plantados
                    </p>
                    <p>

                    </p>
                </div>
            </div>
        </div>

        <div class="col-9">
            <div class="card mt-5">  
                <div class="card-body">
                    <div class="row">
                        <h1 class="modal-title" id="fullDescriptionLabel">Nivel {{misPuntos?.nivel || 0}}</h1>
                        <h4>Prestigio <span class="badge text-bg-warning">{{misPuntos?.reinicios || 0}}</span></h4>
                    </div>
                                  
                    <div class="card bg-light profile-container">
                        <div class="card-body">
                            <div class="row">  
                                <div class="col-lg-10">
                                    <div class="row">
                                        <p>Progreso: {{porcentaje || 0}}%</p>

                                        <div class="row m-1">
                                            <div class="progress progress-bar-striped progress-bar-animated border-1 p-0" role="progressbar" [attr.aria-valuenow]="porcentaje || 15" aria-valuemin="0" aria-valuemax="100" style="height: 32px; width: 100%;">
                                                <div *ngIf="porcentaje" class="progress-bar progress-bar-striped progress-bar-animated overflow-visible text-bg-success px-1" [style.width.%]="porcentaje || 15"><h5 style="text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);">{{misPuntos?.exp || 0}} EXP</h5></div>
                                                <div *ngIf="!porcentaje" class="progress-bar overflow-visible" style="width: 0%"><h5 class="px-1" style="color: white; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);">0 EXP</h5></div>
                                            </div>
                                        </div>
        
                                        <div class="row m-1">
                                            <div class="col-6">
                                                <h5 class="text-start">{{misPuntos?.exp_parcial || 0}}</h5>
                                                <h5 class="text-start">EXP</h5>
                                            </div>
        
                                            <div class="col-6">
                                                <h5 class="text-end">{{misPuntos?.exp_necesaria || 300}}</h5>
                                                <h5 class="text-end">EXP</h5>
                                            </div>
                                        </div>                                        
                                    </div>
                                </div>
        
                                <div class="col-lg-2 d-flex justify-content-center align-items-center"> 
                                    <h4 class="text-center">
                                        Nivel
                                        <span class="badge text-bg-info rounded-5">{{misPuntos?.nivel + 1 || 1}}</span>
                                    </h4>                                                     
                                </div>
                            </div>   
                        </div>                      
                    </div> 
                </div>
            </div>
        </div>
    </div>
</div>
